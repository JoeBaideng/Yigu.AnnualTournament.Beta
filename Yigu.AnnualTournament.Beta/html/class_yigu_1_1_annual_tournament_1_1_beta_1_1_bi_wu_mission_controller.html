<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AnnualTournament: Yigu.AnnualTournament.Beta.BiWuMissionController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AnnualTournament<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">AnnualTournament</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_yigu_1_1_annual_tournament_1_1_beta_1_1_bi_wu_mission_controller.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_yigu_1_1_annual_tournament_1_1_beta_1_1_bi_wu_mission_controller-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Yigu.AnnualTournament.Beta.BiWuMissionController Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>比武场任务控制器类。  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Yigu.AnnualTournament.Beta.BiWuMissionController:</div>
<div class="dyncontent">
<div class="center"><img src="class_yigu_1_1_annual_tournament_1_1_beta_1_1_bi_wu_mission_controller__inherit__graph.png" border="0" usemap="#a_yigu_8_annual_tournament_8_beta_8_bi_wu_mission_controller_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Yigu.AnnualTournament.Beta.BiWuMissionController:</div>
<div class="dyncontent">
<div class="center"><img src="class_yigu_1_1_annual_tournament_1_1_beta_1_1_bi_wu_mission_controller__coll__graph.png" border="0" usemap="#a_yigu_8_annual_tournament_8_beta_8_bi_wu_mission_controller_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5468c82e480689edcef42b59ac49e56b" id="r_a5468c82e480689edcef42b59ac49e56b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5468c82e480689edcef42b59ac49e56b">BiWuMissionController</a> (CultureObject culture, <a class="el" href="class_yigu_1_1_annual_tournament_1_1_beta_1_1_bi_wu_game.html#af112332e394597fea78f999eb37cf8da">BiWuGame.EquipmentType</a> equipmentType)</td></tr>
<tr class="memdesc:a5468c82e480689edcef42b59ac49e56b"><td class="mdescLeft">&#160;</td><td class="mdescRight">构造函数，初始化比武任务控制器。  <br /></td></tr>
<tr class="separator:a5468c82e480689edcef42b59ac49e56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae010f6cf013779016ae82f66900dd03d" id="r_ae010f6cf013779016ae82f66900dd03d"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae010f6cf013779016ae82f66900dd03d">OnBehaviorInitialize</a> ()</td></tr>
<tr class="memdesc:ae010f6cf013779016ae82f66900dd03d"><td class="mdescLeft">&#160;</td><td class="mdescRight">初始化任务行为时的回调函数。  <br /></td></tr>
<tr class="separator:ae010f6cf013779016ae82f66900dd03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee92b157a90b9f82bb9b0a8f7b0b5a35" id="r_aee92b157a90b9f82bb9b0a8f7b0b5a35"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee92b157a90b9f82bb9b0a8f7b0b5a35">AfterStart</a> ()</td></tr>
<tr class="memdesc:aee92b157a90b9f82bb9b0a8f7b0b5a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">比赛开始后的初始化逻辑。  <br /></td></tr>
<tr class="separator:aee92b157a90b9f82bb9b0a8f7b0b5a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b953e8a6fb6706daa4b2e0a3c2eeda4" id="r_a8b953e8a6fb6706daa4b2e0a3c2eeda4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b953e8a6fb6706daa4b2e0a3c2eeda4">PrepareForMatch</a> ()</td></tr>
<tr class="memdesc:a8b953e8a6fb6706daa4b2e0a3c2eeda4"><td class="mdescLeft">&#160;</td><td class="mdescRight">准备比赛。  <br /></td></tr>
<tr class="separator:a8b953e8a6fb6706daa4b2e0a3c2eeda4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc43aed02a5bdd0dc2b34a04af9432c1" id="r_adc43aed02a5bdd0dc2b34a04af9432c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc43aed02a5bdd0dc2b34a04af9432c1">StartMatch</a> (TournamentMatch match, bool isLastRound)</td></tr>
<tr class="memdesc:adc43aed02a5bdd0dc2b34a04af9432c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">开始一场比赛。  <br /></td></tr>
<tr class="separator:adc43aed02a5bdd0dc2b34a04af9432c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a192de64e274b9cd4ad23fbf6be787424" id="r_a192de64e274b9cd4ad23fbf6be787424"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a192de64e274b9cd4ad23fbf6be787424">SkipMatch</a> (TournamentMatch match)</td></tr>
<tr class="memdesc:a192de64e274b9cd4ad23fbf6be787424"><td class="mdescLeft">&#160;</td><td class="mdescRight">跳过当前比赛并模拟比赛结果。  <br /></td></tr>
<tr class="separator:a192de64e274b9cd4ad23fbf6be787424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae57bf4267ed7460cfbe37b3dd0a25abf" id="r_ae57bf4267ed7460cfbe37b3dd0a25abf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae57bf4267ed7460cfbe37b3dd0a25abf">IsMatchEnded</a> ()</td></tr>
<tr class="memdesc:ae57bf4267ed7460cfbe37b3dd0a25abf"><td class="mdescLeft">&#160;</td><td class="mdescRight">判断比赛是否已结束。  <br /></td></tr>
<tr class="separator:ae57bf4267ed7460cfbe37b3dd0a25abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3dd072223d42251ca542978db2740c9" id="r_ae3dd072223d42251ca542978db2740c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3dd072223d42251ca542978db2740c9">OnMatchResultsReady</a> ()</td></tr>
<tr class="memdesc:ae3dd072223d42251ca542978db2740c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">比赛结果准备时的回调函数。  <br /></td></tr>
<tr class="separator:ae3dd072223d42251ca542978db2740c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdd4c449f4ede29de2478d086f788cce" id="r_afdd4c449f4ede29de2478d086f788cce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afdd4c449f4ede29de2478d086f788cce">OnMatchEnded</a> ()</td></tr>
<tr class="memdesc:afdd4c449f4ede29de2478d086f788cce"><td class="mdescLeft">&#160;</td><td class="mdescRight">比赛结束时的回调函数。  <br /></td></tr>
<tr class="separator:afdd4c449f4ede29de2478d086f788cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f707c4785309141254a2bcabf68057" id="r_a16f707c4785309141254a2bcabf68057"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16f707c4785309141254a2bcabf68057">OnAgentRemoved</a> (Agent affectedAgent, Agent affectorAgent, AgentState agentState, KillingBlow killingBlow)</td></tr>
<tr class="memdesc:a16f707c4785309141254a2bcabf68057"><td class="mdescLeft">&#160;</td><td class="mdescRight">处理参赛选手被移除时的逻辑。  <br /></td></tr>
<tr class="separator:a16f707c4785309141254a2bcabf68057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e51fbc8432c6225c0410a2117f4390f" id="r_a0e51fbc8432c6225c0410a2117f4390f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e51fbc8432c6225c0410a2117f4390f">CanAgentRout</a> (Agent agent)</td></tr>
<tr class="memdesc:a0e51fbc8432c6225c0410a2117f4390f"><td class="mdescLeft">&#160;</td><td class="mdescRight">检查代理人是否能逃跑。  <br /></td></tr>
<tr class="separator:a0e51fbc8432c6225c0410a2117f4390f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec8e6009267ae2258d5f3907bdba684" id="r_a0ec8e6009267ae2258d5f3907bdba684"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ec8e6009267ae2258d5f3907bdba684">OnScoreHit</a> (Agent affectedAgent, Agent affectorAgent, WeaponComponentData attackerWeapon, bool isBlocked, bool isSiegeEngineHit, in Blow blow, in AttackCollisionData collisionData, float damagedHp, float hitDistance, float shotDifficulty)</td></tr>
<tr class="memdesc:a0ec8e6009267ae2258d5f3907bdba684"><td class="mdescLeft">&#160;</td><td class="mdescRight">处理在比赛中被击中得分的事件  <br /></td></tr>
<tr class="separator:a0ec8e6009267ae2258d5f3907bdba684"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5e89313c9acaf0dfc400e869cbf6bf2" id="r_aa5e89313c9acaf0dfc400e869cbf6bf2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5e89313c9acaf0dfc400e869cbf6bf2">CheckIfIsThereAnyEnemies</a> ()</td></tr>
<tr class="memdesc:aa5e89313c9acaf0dfc400e869cbf6bf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">检查是否存在敌方团队  <br /></td></tr>
<tr class="separator:aa5e89313c9acaf0dfc400e869cbf6bf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa975d9946d78d3a9de109c4ecdf60017" id="r_aa975d9946d78d3a9de109c4ecdf60017"><td class="memItemLeft" align="right" valign="top">override InquiryData&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa975d9946d78d3a9de109c4ecdf60017">OnEndMissionRequest</a> (out bool canPlayerLeave)</td></tr>
<tr class="memdesc:aa975d9946d78d3a9de109c4ecdf60017"><td class="mdescLeft">&#160;</td><td class="mdescRight">处理比赛结束后的请求  <br /></td></tr>
<tr class="separator:aa975d9946d78d3a9de109c4ecdf60017"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a57893d8b25b844340a9b397c861c38fd" id="r_a57893d8b25b844340a9b397c861c38fd"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57893d8b25b844340a9b397c861c38fd">OnEndMission</a> ()</td></tr>
<tr class="memdesc:a57893d8b25b844340a9b397c861c38fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">任务结束时的回调函数。  <br /></td></tr>
<tr class="separator:a57893d8b25b844340a9b397c861c38fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>比武场任务控制器类。 </p>
<p>负责控制比武比赛的相关逻辑，包括初始化任务行为、比赛准备和比赛开始等功能。 </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5468c82e480689edcef42b59ac49e56b" name="a5468c82e480689edcef42b59ac49e56b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5468c82e480689edcef42b59ac49e56b">&#9670;&#160;</a></span>BiWuMissionController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Yigu.AnnualTournament.Beta.BiWuMissionController.BiWuMissionController </td>
          <td>(</td>
          <td class="paramtype">CultureObject</td>          <td class="paramname"><span class="paramname"><em>culture</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_yigu_1_1_annual_tournament_1_1_beta_1_1_bi_wu_game.html#af112332e394597fea78f999eb37cf8da">BiWuGame.EquipmentType</a></td>          <td class="paramname"><span class="paramname"><em>equipmentType</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>构造函数，初始化比武任务控制器。 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">culture</td><td>比赛使用的文化对象。 </td></tr>
    <tr><td class="paramname">equipmentType</td><td>比赛使用的装备类型。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aee92b157a90b9f82bb9b0a8f7b0b5a35" name="aee92b157a90b9f82bb9b0a8f7b0b5a35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee92b157a90b9f82bb9b0a8f7b0b5a35">&#9670;&#160;</a></span>AfterStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override void Yigu.AnnualTournament.Beta.BiWuMissionController.AfterStart </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>比赛开始后的初始化逻辑。 </p>
<p>包括显示比赛开始的消息、清理多余的比赛场景元素，以及初始化生成点。 </p>

</div>
</div>
<a id="a0e51fbc8432c6225c0410a2117f4390f" name="a0e51fbc8432c6225c0410a2117f4390f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e51fbc8432c6225c0410a2117f4390f">&#9670;&#160;</a></span>CanAgentRout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Yigu.AnnualTournament.Beta.BiWuMissionController.CanAgentRout </td>
          <td>(</td>
          <td class="paramtype">Agent</td>          <td class="paramname"><span class="paramname"><em>agent</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>检查代理人是否能逃跑。 </p>
<p>目前该方法始终返回 <code>false</code>，表示代理人无法逃跑。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agent</td><td>需要检查的代理人。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>始终返回 <code>false</code>，表示代理人无法逃跑。 </dd></dl>

</div>
</div>
<a id="aa5e89313c9acaf0dfc400e869cbf6bf2" name="aa5e89313c9acaf0dfc400e869cbf6bf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5e89313c9acaf0dfc400e869cbf6bf2">&#9670;&#160;</a></span>CheckIfIsThereAnyEnemies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Yigu.AnnualTournament.Beta.BiWuMissionController.CheckIfIsThereAnyEnemies </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>检查是否存在敌方团队 </p>
<p>该方法遍历当前比赛中的所有代理，检查是否有敌对团队的存在。若当前有不同团队的代理同时参与比赛， 则返回 true，否则返回 false。</p>
<dl class="section return"><dt>Returns</dt><dd>如果有敌方团队，则返回 true；否则返回 false。 </dd></dl>

</div>
</div>
<a id="ae57bf4267ed7460cfbe37b3dd0a25abf" name="ae57bf4267ed7460cfbe37b3dd0a25abf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae57bf4267ed7460cfbe37b3dd0a25abf">&#9670;&#160;</a></span>IsMatchEnded()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Yigu.AnnualTournament.Beta.BiWuMissionController.IsMatchEnded </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>判断比赛是否已结束。 </p>
<p>根据比赛的状态和计时器判断比赛是否结束。</p>
<dl class="section return"><dt>Returns</dt><dd>如果比赛结束返回 true，否则返回 false。 </dd></dl>

</div>
</div>
<a id="a16f707c4785309141254a2bcabf68057" name="a16f707c4785309141254a2bcabf68057"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16f707c4785309141254a2bcabf68057">&#9670;&#160;</a></span>OnAgentRemoved()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override void Yigu.AnnualTournament.Beta.BiWuMissionController.OnAgentRemoved </td>
          <td>(</td>
          <td class="paramtype">Agent</td>          <td class="paramname"><span class="paramname"><em>affectedAgent</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Agent</td>          <td class="paramname"><span class="paramname"><em>affectorAgent</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AgentState</td>          <td class="paramname"><span class="paramname"><em>agentState</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KillingBlow</td>          <td class="paramname"><span class="paramname"><em>killingBlow</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>处理参赛选手被移除时的逻辑。 </p>
<p>当一个参赛选手被移除时，如果比赛未结束且移除者与受害者不是同一个人，且两者都为人类角色，则从存活参赛选手列表和当前比赛选手列表中移除该选手。 如果该选手所在的队伍已死亡，则从存活队伍列表中移除该队伍，并为剩余队伍加分。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">affectedAgent</td><td>受害的代理人。 </td></tr>
    <tr><td class="paramname">affectorAgent</td><td>造成受害的代理人。 </td></tr>
    <tr><td class="paramname">agentState</td><td>受害代理人当前的状态。 </td></tr>
    <tr><td class="paramname">killingBlow</td><td>造成死亡的致命一击。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae010f6cf013779016ae82f66900dd03d" name="ae010f6cf013779016ae82f66900dd03d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae010f6cf013779016ae82f66900dd03d">&#9670;&#160;</a></span>OnBehaviorInitialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override void Yigu.AnnualTournament.Beta.BiWuMissionController.OnBehaviorInitialize </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>初始化任务行为时的回调函数。 </p>
<p>添加任务行为的初始化逻辑，例如绑定特定的条件检查函数。 </p>

</div>
</div>
<a id="a57893d8b25b844340a9b397c861c38fd" name="a57893d8b25b844340a9b397c861c38fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57893d8b25b844340a9b397c861c38fd">&#9670;&#160;</a></span>OnEndMission()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override void Yigu.AnnualTournament.Beta.BiWuMissionController.OnEndMission </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>任务结束时的回调函数。 </p>
<p>在任务结束时取消附加的条件检查。 </p>

</div>
</div>
<a id="aa975d9946d78d3a9de109c4ecdf60017" name="aa975d9946d78d3a9de109c4ecdf60017"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa975d9946d78d3a9de109c4ecdf60017">&#9670;&#160;</a></span>OnEndMissionRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override InquiryData Yigu.AnnualTournament.Beta.BiWuMissionController.OnEndMissionRequest </td>
          <td>(</td>
          <td class="paramtype">out bool</td>          <td class="paramname"><span class="paramname"><em>canPlayerLeave</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>处理比赛结束后的请求 </p>
<p>该方法在比赛结束时被调用，判断玩家是否可以离开当前比赛，并根据比赛情况生成相应的询问数据。首先检查当前比赛是否存在，如果玩家参与了比赛并且存在玩家控制的代理，判断玩家是否接近敌人或者是否有其他敌人存在。如果有敌人，则生成一个询问数据，询问玩家是否要放弃比赛；否则强制结束比赛。如果没有敌人或玩家不参与比赛，依旧会生成跳过比赛的询问数据。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">canPlayerLeave</td><td>返回值，表示玩家是否可以离开比赛。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>返回一个包含询问数据的对象，用于决定比赛结束后的操作。 </dd></dl>

</div>
</div>
<a id="afdd4c449f4ede29de2478d086f788cce" name="afdd4c449f4ede29de2478d086f788cce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdd4c449f4ede29de2478d086f788cce">&#9670;&#160;</a></span>OnMatchEnded()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Yigu.AnnualTournament.Beta.BiWuMissionController.OnMatchEnded </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>比赛结束时的回调函数。 </p>
<p>结束比赛时，清理比赛相关的状态，如移除当前参赛选手、清理尸体、清除队伍数据等。 </p>

</div>
</div>
<a id="ae3dd072223d42251ca542978db2740c9" name="ae3dd072223d42251ca542978db2740c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3dd072223d42251ca542978db2740c9">&#9670;&#160;</a></span>OnMatchResultsReady()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Yigu.AnnualTournament.Beta.BiWuMissionController.OnMatchResultsReady </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>比赛结果准备时的回调函数。 </p>
<p>根据玩家是否参与比赛以及比赛结果，显示不同的提示信息。 </p>

</div>
</div>
<a id="a0ec8e6009267ae2258d5f3907bdba684" name="a0ec8e6009267ae2258d5f3907bdba684"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ec8e6009267ae2258d5f3907bdba684">&#9670;&#160;</a></span>OnScoreHit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override void Yigu.AnnualTournament.Beta.BiWuMissionController.OnScoreHit </td>
          <td>(</td>
          <td class="paramtype">Agent</td>          <td class="paramname"><span class="paramname"><em>affectedAgent</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Agent</td>          <td class="paramname"><span class="paramname"><em>affectorAgent</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WeaponComponentData</td>          <td class="paramname"><span class="paramname"><em>attackerWeapon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isBlocked</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isSiegeEngineHit</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in Blow</td>          <td class="paramname"><span class="paramname"><em>blow</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in AttackCollisionData</td>          <td class="paramname"><span class="paramname"><em>collisionData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>damagedHp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>hitDistance</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>shotDifficulty</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>处理在比赛中被击中得分的事件 </p>
<p>当一个代理被击中并导致得分变化时触发此方法。该方法会检查被击中代理和攻击代理的有效性，并计算造成的伤害。 基于所造成的伤害，调用 <code>EnemyHitReward</code> 方法来奖励攻击者。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">affectedAgent</td><td>受击的代理 </td></tr>
    <tr><td class="paramname">affectorAgent</td><td>造成伤害的代理 </td></tr>
    <tr><td class="paramname">attackerWeapon</td><td>攻击者使用的武器 </td></tr>
    <tr><td class="paramname">isBlocked</td><td>是否被挡住 </td></tr>
    <tr><td class="paramname">isSiegeEngineHit</td><td>是否为攻城器械的击打 </td></tr>
    <tr><td class="paramname">blow</td><td>造成的击打数据，包含伤害信息 </td></tr>
    <tr><td class="paramname">collisionData</td><td>碰撞数据 </td></tr>
    <tr><td class="paramname">damagedHp</td><td>受击代理失去的生命值 </td></tr>
    <tr><td class="paramname">hitDistance</td><td>攻击发生的距离 </td></tr>
    <tr><td class="paramname">shotDifficulty</td><td>攻击的难度系数 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8b953e8a6fb6706daa4b2e0a3c2eeda4" name="a8b953e8a6fb6706daa4b2e0a3c2eeda4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b953e8a6fb6706daa4b2e0a3c2eeda4">&#9670;&#160;</a></span>PrepareForMatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Yigu.AnnualTournament.Beta.BiWuMissionController.PrepareForMatch </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>准备比赛。 </p>
<p>为比赛的所有参赛选手分配装备。 </p>

</div>
</div>
<a id="a192de64e274b9cd4ad23fbf6be787424" name="a192de64e274b9cd4ad23fbf6be787424"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a192de64e274b9cd4ad23fbf6be787424">&#9670;&#160;</a></span>SkipMatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Yigu.AnnualTournament.Beta.BiWuMissionController.SkipMatch </td>
          <td>(</td>
          <td class="paramtype">TournamentMatch</td>          <td class="paramname"><span class="paramname"><em>match</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>跳过当前比赛并模拟比赛结果。 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">match</td><td>当前比赛的匹配信息。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adc43aed02a5bdd0dc2b34a04af9432c1" name="adc43aed02a5bdd0dc2b34a04af9432c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc43aed02a5bdd0dc2b34a04af9432c1">&#9670;&#160;</a></span>StartMatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Yigu.AnnualTournament.Beta.BiWuMissionController.StartMatch </td>
          <td>(</td>
          <td class="paramtype">TournamentMatch</td>          <td class="paramname"><span class="paramname"><em>match</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isLastRound</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开始一场比赛。 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">match</td><td>当前比赛的匹配信息。 </td></tr>
    <tr><td class="paramname">isLastRound</td><td>是否为最后一轮比赛。</td></tr>
  </table>
  </dd>
</dl>
<p>负责设置比赛模式、分配团队、生成参赛选手并设置团队敌对关系。 </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Yigu.AnnualTournament.Beta/<b>SubModule.cs</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_yigu.html">Yigu</a></li><li class="navelem"><a class="el" href="namespace_yigu_1_1_annual_tournament.html">AnnualTournament</a></li><li class="navelem"><a class="el" href="namespace_yigu_1_1_annual_tournament_1_1_beta.html">Beta</a></li><li class="navelem"><a class="el" href="class_yigu_1_1_annual_tournament_1_1_beta_1_1_bi_wu_mission_controller.html">BiWuMissionController</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
